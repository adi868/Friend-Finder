<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Friend Finder Survey</title>
    <link rel="stylesheet" type="text/css" href="style.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
    <link href="https://fonts.googleapis.com/css?family=Cabin+Sketch&display=swap" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">

</head>

<body>

    <div class="bg"></div>
    <div class="bg bg2"></div>
    <div class="bg bg3"></div>
    <div class="contentSurvey">
        <div class="SurveyPage">
            <form action="POST" class="form">
                <div class="form-group col-md-12">
                    <h1><span class="fa fa-fire"></span><u> FRIEND FINDER </u><span class="fa fa-fire"></span></h1>
                    <br>
                    <h3>About You</h3>
                    <hr>
                    <div class="form-group">
                        <p>Name (Required)</p>
                        <input type="text" class="form-control" id="name" required>
                    </div>
                    <div class="form-group">
                        <p>Link To Image URL (Required)</p>
                        <input type="text" class="form-control" id="imageLink" required>
                        <hr>
                    </div>

                    <div class="form-group">
                        <h5>Question 1</h5>
                        <p>You believe the best friendships are the most unexpected ones</p>
                        <select class="form-control col-md-2" id="question1">
                            <option value=1>1 (Strongly Disagree)</option>
                            <option value=2>2 </option>
                            <option value=3>3 </option>
                            <option value=4>4 </option>
                            <option value=5>5 (Strongly Agree)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <h5>Question 2</h5>
                        <p>If you had to choose, you would prefer to stay in over go out</p>
                        <select class="form-control col-md-2" id="question2">
                            <option value=1>1 (Strongly Disagree)</option>
                            <option value=2>2</option>
                            <option value=3>3</option>
                            <option value=4>4</option>
                            <option value=5>5 (Strongly Agree)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <h5>Question 3</h5>
                        <p>You believe small gestures are sweeter than big gifts</p>
                        <select class="form-control col-md-2" id="question3">
                            <option value=1>1 (Strongly Disagree)</option>
                            <option value=2>2</option>
                            <option value=3>3</option>
                            <option value=4>4</option>
                            <option value=5>5 (Strongly Agree)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <h5>Question 4</h5>
                        <p>You rarely do something just out of sheer curiosity</p>
                        <select class="form-control col-md-2" id="question4">
                            <option value=1>1 (Strongly Disagree)</option>
                            <option value=2>2</option>
                            <option value=3>3</option>
                            <option value=4>4</option>
                            <option value=5>5 (Strongly Agree)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <h5>Question 5</h5>
                        <p>You prioritize preserving good relationships even when there is a conflict</p>
                        <select class="form-control col-md-2" id="question5">
                            <option value=1>1 (Strongly Disagree)</option>
                            <option value=2>2</option>
                            <option value=3>3</option>
                            <option value=4>4</option>
                            <option value=5>5 (Strongly Agree)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <h5>Question 6</h5>
                        <p>It is often difficult for you to relate to other peopleâ€™s feelings</p>
                        <select class="form-control col-md-2" id="question6">
                            <option value=1>1 (Strongly Disagree)</option>
                            <option value=2>2</option>
                            <option value=3>3</option>
                            <option value=4>4</option>
                            <option value=5>5 (Strongly Agree)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <h5>Question 7</h5>
                        <p>You believe experiences are worth more than the price tag</p>
                        <select class="form-control col-md-2" id="question7">
                            <option value=1>1 (Strongly Disagree)</option>
                            <option value=2>2</option>
                            <option value=3>3</option>
                            <option value=4>4</option>
                            <option value=5>5 (Strongly Agree)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <h5>Question 8</h5>
                        <p>You enjoy seeing your friends more than once a week</p>
                        <select class="form-control col-md-2" id="question8">
                            <option value=1>1 (Strongly Disagree)</option>
                            <option value=2>2</option>
                            <option value=3>3</option>
                            <option value=4>4</option>
                            <option value=5>5 (Strongly Agree)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <h5>Question 9</h5>
                        <p>It is important for you to be around people who challenge you</p>
                        <select class="form-control col-md-2" id="question9">
                            <option value=1>1 (Strongly Disagree)</option>
                            <option value=2>2</option>
                            <option value=3>3</option>
                            <option value=4>4</option>
                            <option value=5>5 (Strongly Agree)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <h5>Question 10</h5>
                        <p>You feel more energetic after spending time with a group of people</p>
                        <select class="form-control col-md-2" id="question10">
                            <option value=1>1 (Strongly Disagree)</option>
                            <option value=2>2</option>
                            <option value=3>3</option>
                            <option value=4>4</option>
                            <option value=5>5 (Strongly Agree)</option>
                        </select>
                    </div>
                    <br>
                    <input type="submit" class="btn btn-outline-primary form-control" id="submit">
                </div>
            </form>
        </div>

        <!-- Modal -->
        <div class="modal" tabindex="-1" role="dialog" id="modal">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title">Your Match!</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <div id="modalText">
                        </div>
                        <div id="modalImage">
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                    </div>
                </div>
            </div>
        </div>
        <!-- Modal End -->

        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>


        <script type="text/javascript">
            $(document).ready(function () {
                $("#submit").on("click", function (event) {
                    event.preventDefault();

                    var newFriend = {
                        name: $("#name").val().trim(),
                        photo: $("#imageLink").val().trim(),
                        scores: [
                            $("#question1").val().trim(),
                            $("#question2").val().trim(),
                            $("#question3").val().trim(),
                            $("#question4").val().trim(),
                            $("#question5").val().trim(),
                            $("#question6").val().trim(),
                            $("#question7").val().trim(),
                            $("#question8").val().trim(),
                            $("#question9").val().trim(),
                            $("#question10").val().trim()
                        ]
                    }

                    // Adding new friend information via POST request
                    $.post("/api/friends", newFriend).then(function (data) {
                        console.log(data)
                        $(".modal-body").empty();
                        $(".modal-body").append("Name: " + data.name + "<br>")
                        $(".modal-body").append("<img src='" + data.photo + "' />")
                        $("#modal").modal('show');
                        //editing image css
                        $("img").css({
                            "height": "400px",
                            "width": "400px",
                            "margin-top": "10px"
                        });

                        //Resetting text fields
                        $("#name").val("");
                        $("#imageLink").val("");
                    })

                })
            })
        </script>

        <footer class="footer">
            <div class="form-group col-md-12">
                <span style="display: inline;">
                    <a href="home.html"><button class="btn btn-lg btn-default" id="homeButton"><span
                                class="fa fa-home"></span></button></a>
                    <a href="/api/friends">API Friends Link</a> | <a href="https://github.com/adi868/Friend_Finder"
                        target="_blank">GitHub Repository</a>
                </span>
            </div>

        </footer>

</body>

</html>